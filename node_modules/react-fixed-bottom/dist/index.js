"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(exports,"__esModule",{value:!0});var React=_interopDefault(require("react")),extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};function __extends(t,e){function o(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var __assign=function(){return(__assign=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(t,e,o){var n,r,i,a,f,c,s=0,l=!1,u=!1,d=!0;if("function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);function p(e){var o=n,i=r;return n=r=void 0,s=e,a=t.apply(i,o)}function b(t){var o=t-c;return void 0===c||o>=e||o<0||u&&t-s>=i}function m(){var t=now();if(b(t))return h(t);f=setTimeout(m,function(t){var o=e-(t-c);return u?nativeMin(o,i-(t-s)):o}(t))}function h(t){return f=void 0,d&&n?p(t):(n=r=void 0,a)}function v(){var t=now(),o=b(t);if(n=arguments,r=this,c=t,o){if(void 0===f)return function(t){return s=t,f=setTimeout(m,e),l?p(t):a}(c);if(u)return f=setTimeout(m,e),p(c)}return void 0===f&&(f=setTimeout(m,e)),a}return e=toNumber(e)||0,isObject(o)&&(l=!!o.leading,i=(u="maxWait"in o)?nativeMax(toNumber(o.maxWait)||0,e):i,d="trailing"in o?!!o.trailing:d),v.cancel=function(){void 0!==f&&clearTimeout(f),s=0,n=c=r=f=void 0},v.flush=function(){return void 0===f?a:h(now())},v}function throttle(t,e,o){var n=!0,r=!0;if("function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);return isObject(o)&&(n="leading"in o?!!o.leading:n,r="trailing"in o?!!o.trailing:r),debounce(t,e,{leading:n,maxWait:e,trailing:r})}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function isObjectLike(t){return!!t&&"object"==typeof t}function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&objectToString.call(t)==symbolTag}function toNumber(t){if("number"==typeof t)return t;if(isSymbol(t))return NAN;if(isObject(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=isObject(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(reTrim,"");var o=reIsBinary.test(t);return o||reIsOctal.test(t)?freeParseInt(t.slice(2),o?2:8):reIsBadHex.test(t)?NAN:+t}var lodash_throttle=throttle;function isSafariMobile(){if("undefined"==typeof window||void 0===window.navigator)return!1;var t=window.navigator.userAgent;return/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(t)}var SAFARI_MOBILE_BOTTOM_MENU_HEIGHT=44,FixedBottom=function(t){function e(e){var o=t.call(this,e)||this;return o.state={bottom:o.props.offset||0},o.isSafariMobile=isSafariMobile(),o.anchorRef=React.createRef(),o.computeOffsetBottom=function(){if(o.anchorRef.current){var t=o.anchorRef.current.getBoundingClientRect().bottom,e=o.props.offset,n=void 0===e?0:e;Math.floor(Number(t))>window.innerHeight?o.setState({bottom:n+SAFARI_MOBILE_BOTTOM_MENU_HEIGHT}):o.setState({bottom:n})}},o.handleScroll=lodash_throttle(o.computeOffsetBottom,200),o}return __extends(e,t),e.prototype.componentDidMount=function(){this.isSafariMobile&&(window.addEventListener("scroll",this.handleScroll),this.deferredComputeOffsetBottom=setTimeout(this.computeOffsetBottom))},e.prototype.componentWillUnmount=function(){this.isSafariMobile&&(this.handleScroll.cancel(),window.removeEventListener("scroll",this.handleScroll),window.clearTimeout(this.deferredComputeOffsetBottom))},e.prototype.render=function(){var t=this.state.bottom,e=this.props,o=e.children,n=e.offset,r=React.cloneElement(o,{style:__assign({},o.props.style,{bottom:t,position:"fixed"})});return React.createElement(React.Fragment,null,r,this.isSafariMobile&&React.createElement("div",{ref:this.anchorRef,style:{position:"fixed",bottom:n}}))},e}(React.PureComponent);exports.FixedBottom=FixedBottom;
//# sourceMappingURL=index.js.map
